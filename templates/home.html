{% extends "layout.html" %}

{% set active_page = "home" %}

{% block title %}Home{% endblock %}

{% block content %}
    <!--page content-->

    <div class="row mb-3">
        <div class="col offset-1">
            <h1>Overview</h1>
        </div>
    </div>


    <div class="row">
        <div class="col-sm-8 offset-2">

            <h2>Gas Mileage</h3>

            <p class="ms-3">Gas mileage is measured by taking a set amount of miles traveled divided by the amount of fuel it took to refuel that vehicle. 
                Usually, these numbers are different during highway and city driving due to a couple factors. 

                <a href="https://www.caranddriver.com/research/a31518112/what-is-good-gas-milage/" target="_blank">(Car and Driver)</a>
            </p>

            <h3>1. Energy Loss</h3>

            <p class="ms-3">One factor is that when a car is city driving it is constantly starting and stopping. 
                This makes the energy of the car go from kinetic to potential energy. 
                Every energy transfer the car loses energy as heat causing it to use more fuel than if it were driving for long periods of time, 
                like on the highway.

                <a href="https://www.scottsfortcollinsauto.com/the-gas-mileage-difference-between-city-and-highway-driving/" target="_blank">(Scotts Fort Collins Auto)</a>
            </p>

            <h3>2. Manual V Automatic</h3>

            <p class="ms-3">Another factor that applies to gas mileage is whether the car is automatic or manual. In the past manuals would get better 
                gas mileage. In the past few decades however automatics have become more efficient and often surpass manuals in gas mileage.

                <a href="https://www.energy.gov/eere/vehicles/articles/fotw-1127-march-30-2020-model-year-2016-automatic-transmissions-have" target="_blank">(EERE)</a>
            </p>

        </div>
    </div>

    <div class="row mb-3">
        <div class="col offset-1">
            <h1>MPG Specifications By Vehicle</h1>
        </div>
    </div>

    <div class="row mb-5">
        <div class="col-sm-8 offset-2">

          <div class="row border border-2 border-dark rounded pt-2">
            <div class="col-6">
                <h3>Select a Car and learn about it</h3>

                <form class="mb-3" action="/">
                    <div class="row">
                        <div class="col">
                            <select class="form-select" name="car" onchange='if(this.value != 0) { this.form.submit(); }'>
                                {% if last_selected %}
                                    <option slected>{{ last_selected }}</option>

                                {% else %}
                                    <option selected>--< select an engine >--</option>
                                {% endif %}

                                {{ car_options }}
                            </select>
                        </div>
                    </div>
                </form>

                <div class="ms-1 mb-2">
                    <h3>Engine MPG Specifications:</h3>

                    {% if last_selected %}
                      <p>Engine: {{ engine_info }}</p>
                      <p>{{ city_mpg }}</p>
                      <p>{{ highway_mpg }}</p>

                    {% else %}
                      <p><em>please select an engine</em></p>
                    {% endif %}
                </div>
            </div>

            <!-- Average MPG Per Brand Table -->

            <div class="col-6">
              <h3>Brands and their Average MPG</h3>

              <div class="table-responsive">
                <table class="table table-hover table-striped table-responsive">
                  <thead>
                    <tr>
                      <th>Brand</th>
                      <th>Average MPG</th>
                    </tr>
                  </thead>

                  <tbody>
                    {% for brand in avg_mpg_by_brand %}
                      <tr>
                        <td>{{avg_mpg_by_brand[brand]["Brand"]}}</td>
                        <td>{{avg_mpg_by_brand[brand]["Average MPG"]}}</td>
                      </tr>
                    {% endfor %}
                  </tbody>
                </table>
              </div>
            </div>

          </div>
        </div>
    </div>

{% endblock %}